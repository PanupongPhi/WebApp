<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">  
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.16/dist/sweetalert2.all.min.js"></script>
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="./nav.css">
    <title>PhiApp 2024.02.05.01</title>
    <!--<script src="./node_modules/html5-qrcode/html5-qrcode.min.js"></script>-->
    <script src="https://unpkg.com/html5-qrcode@2.3.4/html5-qrcode.min.js"></script>
    <style>
        .btRound{
            /*background-color: #04AA6D; /* Green */
            /*border: none;
            /*color: white;
            padding: 20px;*/
            text-align: center;
            /*text-decoration: none;
            /*display: inline-block;*/
            /*font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;*/
            border-radius: 4px;
        }

        .swal2-popup {
            display: flex;
            justify-content: center;
            align-items: center;
        }

    </style>
</head>
<body style="background-color:white">

    <!--Header-->
    <div class="w3-container w3-teal" style="position: -webkit-sticky; position: sticky; top: 0;">
        <h1>PhiApp</h1>
    </div>

    
    <div class="w3-container">
        
        <p>
            <div id="reader" style="width: 300px;margin: 0 auto"></div>
            <!--<button class="w3-btn w3-round-large w3-block w3-teal" onclick="addDrawing()" id="submit">Scan</button>-->
        </p>

        <div class="w3-container">
            <p>
                <label>Drawing No.</label>
                <input class="w3-input" type="text" readonly="true" id="DrawingNo">
            </p>
            <p>
                <label>จำนวน</label>
                <input class="w3-input" type="number" readonly="true" id="DrawingQty">
            </p>
        </div>

        <p>
            <button class="w3-btn w3-teal w3-round-large w3-block" id="btRetry" onclick="retry()">เริ่มใหม่</button>
        </p>
        
    </div>

    <div id="StatusPanel" style="padding-bottom: 50px">
        <table class="w3-table w3-bordered">
            <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
            </tr>

            <!-- Receive drawing -->
            <tr>
                <td>
                    <label>รับ</label>
                </td>
                <td>
                    <label id="lbReceive"></label>
                </td>
                <td>
                    <label for="" id="lbReceiveRej" style="color: red; display: none;"></label>
                </td>
                <td>
                    <input type="number" id="nbReceive" style="width: 60px" onchange="updateQty('nbReceive', 'lbReceive','lbReceiveRej')">
                </td>
                <td>                    
                    <button id="cbReceive" onclick="updateProcess('cbReceive', 'lbReceive','lbReceiveRej')">Done</button>           
                </td>
                <td>
                    <!--<button id="btReceive_reject" class="w3-red">x</button>-->
                </td>
            </tr>

            <!-- Subcon -->
            <tr>
                <td>
                    <label>Subcon</label>
                </td>
                <td>
                    <label id="lbSubcon"></label>
                </td>
                <td>
                    <label id="lbSubconRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbSubcon" style="width: 60px" onchange="updateQty('nbSubcon', 'lbSubcon', 'lbSubconRej')">
                </td>
                <td>                    
                    <button id="cbSubcon" onclick="updateProcess('cbSubcon', 'lbSubcon', 'lbSubconRej')">Done</button>           
                </td>
                <td>
                    <button id="btSubcon_reject" class="w3-red" onclick="reject('cbSubcon', 'lbSubcon')">x</button>
                </td>
            </tr>

            <!-- OrderMatt -->    
            <tr>
                <td>
                    <label>สั่งแมท</label>
                </td>
                <td>
                    <label id="lbOrderMatt"></label>
                </td>
                <td>
                    <label id="lbOrderMattRej" style="display: none;"></label>
                </td>
                <td>
                    <input type="number" id="nbOrderMatt" style="width: 60px" onchange="updateQty('nbOrderMatt','lbOrderMatt','lbOrderMattRej')">
                </td>
                <td>                    
                    <button id="cbOrderMatt" onclick="updateProcess('cbOrderMatt','lbOrderMatt','lbOrderMattRej')">Done</button>           
                </td>
                <td>
                    <!--<button id="btOrderMatt_reject" class="w3-red">x</button>-->
                </td>
            </tr>

            <!-- CutMatt -->
            <tr>
                <td>
                    <label>ตัดแมท</label>
                </td>
                <td>
                    <label id="lbCutMatt"></label>
                </td>
                <td>
                    <label id="lbCutMattRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbCutMatt" style="width: 60px" onchange="updateQty('nbCutMatt','lbCutMatt','lbCutMattRej')">
                </td>
                <td>                    
                    <button id="cbCutMatt" onclick="updateProcess('cbCutMatt','lbCutMatt','lbCutMattRej')">Done</button>           
                </td>
                <td>
                    <button id="btCutMatt_reject" class="w3-red" onclick="reject('cbCutMatt', 'lbCutMatt')">x</button>
                </td>
            </tr>

            <!-- ReceiveMatt -->
            <tr>
                <td>
                    <label>รับ Mat</label>
                </td>
                <td>
                    <label id="lbReceiveMatt"></label>
                </td>                
                <td>
                    <label for="" id="lbReceiveMattRej" style="display: none;"></label>
                </td>
                <td>
                    <input type="number" id="nbReceiveMatt" style="width: 60px" onchange="updateQty('nbReceiveMatt','lbReceiveMatt','lbReceiveMattRej')">
                </td>
                <td>
                    <button id="cbReceiveMatt" onclick="updateProcess('cbReceiveMatt','lbReceiveMatt','lbReceiveMattRej')">Done</button>
                </td>
            </tr>            

            <!-- Bank -->
            <tr>
                <td>
                    <label>แบงค์งาน</label>
                </td>
                <td>
                    <label id="lbBank"></label>
                </td>
                <td>
                    <label for="" id="lbBankRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbBank" style="width: 60px" onchange="updateQty('nbBank', 'lbBank','lbBankRej')">
                </td>
                <td>                    
                    <button id="cbBank" onclick="updateProcess('cbBank', 'lbBank','lbBankRej')">Done</button>           
                </td>
                <td>
                    <button id="btBank_reject" class="w3-red" onclick="reject('cbBank', 'lbBank')">x</button>
                </td>
            </tr>
    
            <tr>
                <td>
                    <label>มิลลิ่ง</label>
                </td>
                <td>
                    <label id="lbMilling"></label>
                </td>
                <td>
                    <label for="" id="lbMillingRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbMilling" style="width: 60px" onchange="updateQty('nbMilling','lbMilling','lbMillingRej')">
                </td>
                <td>                    
                    <button id="cbMilling" onclick="updateProcess('cbMilling','lbMilling','lbMillingRej')">Done</button>           
                </td>
                <td>
                    <button id="btMilling_reject" class="w3-red" onclick="reject('cbMilling', 'lbMilling')">x</button>
                </td>
            </tr>
    
            <tr>
                <td>
                    <label>กลึง</label>
                </td>
                <td>
                    <label id="lbLathe"></label>
                </td>
                <td>
                    <label for="" id="lbLatheRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbLathe" style="width: 60px" onchange="updateQty('nbLathe','lbLathe','lbLatheRej')">
                </td>
                <td>                    
                    <button id="cbLathe" onclick="updateProcess('cbLathe','lbLathe','lbLatheRej')">Done</button>           
                </td>
                <td>
                    <button id="btLathe_reject" class="w3-red" onclick="reject('cbLathe', 'lbLathe')">x</button>
                </td>
            </tr>
    
            <tr>
                <td>
                    <label>CNC Milling</label>
                </td>
                <td>
                    <label id="lbCncMilling"></label>
                </td>
                <td>
                    <label id="lbCncMillingRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbCncMilling" style="width: 60px" onchange="updateQty('nbCncMilling','lbCncMilling','lbCncMillingRej')">
                </td>
                <td>                    
                    <button id="cbCncMilling" onclick="updateProcess('cbCncMilling','lbCncMilling','lbCncMillingRej')">Done</button>           
                </td>
                <td>
                    <button id="btCncMilling_reject" class="w3-red" onclick="reject('cbCncMilling', 'lbCncMilling')">x</button>
                </td>
            </tr>
    
            <tr>
                <td>
                    <label>CNC Lathe</label>
                </td>
                <td>
                    <label id="lbCncLathe"></label>
                </td>
                <td>
                    <label id="lbCncLatheRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbCncLathe" style="width: 60px" onchange="updateQty('nbCncLathe','lbCncLathe','lbCncLatheRej')">
                </td>
                <td>                    
                    <button id="cbCncLathe" onclick="updateProcess('cbCncLathe','lbCncLathe','lbCncLatheRej')">Done</button>           
                </td>
                <td>
                    <button id="btCncLathe_reject" class="w3-red" onclick="reject('cbCncLathe', 'lbCncLathe')">x</button>
                </td>
            </tr>
    
            <tr>
                <td>
                    <label>ต๊าบเกลียว</label>
                </td>
                <td>
                    <label id="lbTaps"></label>
                </td>
                <td>
                    <label id="lbTapsRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbTaps" style="width: 60px" onchange="updateQty('nbTaps','lbTaps','lbTapsRej')">
                </td>
                <td>                    
                    <button id="cbTaps" onclick="updateProcess('cbTaps','lbTaps','lbTapsRej')">Done</button>           
                </td>
                <td>
                    <button id="btTaps_reject" class="w3-red" onclick="reject('cbTaps','lbTaps')">x</button>
                </td>
            </tr>
    
            <tr>
                <td>
                    <label>QC</label>
                </td>
                <td>
                    <label id="lbQc"></label>
                </td>                
                <td>
                    <label id="lbQcRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbQc" style="width: 60px" onchange="updateQty('nbQc','lbQc','lbQcRej')">
                </td>
                <td>                    
                    <button id="cbQc" onclick="updateProcess('cbQc','lbQc','lbQcRej')">Done</button>           
                </td>
                <td>
                    <button id="btQc_reject" class="w3-red" onclick="reject('cbQc','lbQc')">x</button>
                </td>
            </tr>
    
            <tr>
                <td>
                    <label>ชุบผิว</label>
                </td>
                <td>
                    <label id="lbPlating"></label>
                </td>
                
                <td>
                    <label id="lbPlatingRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbPlating" style="width: 60px" onchange="updateQty('nbPlating','lbPlating','lbPlatingRej')">
                </td>
                <td>                    
                    <button id="cbPlating" onclick="updateProcess('cbPlating','lbPlating','lbPlatingRej')">Done</button>           
                </td>
                <td>
                    <button id="btPlating_reject" class="w3-red" onclick="reject('cbPlating','lbPlating')">x</button>
                </td>
            </tr>
            
            <!-- Done -->
            <tr>
                <td>
                    <label>ผลิตเสร็จ</label>
                </td>
                <td>
                    <label id="lbDone"></label>
                </td>                
                <td>
                    <label for="" id="lbDoneRej" style="display: none;"></label>
                </td>
                <td>
                    <input type="number" id="nbDone" style="width: 60px" onchange="updateQty('nbDone','lbDone','lbDoneRej')">
                </td>
                <td>                    
                    <button id="cbDone" onclick="updateProcess('cbDone','lbDone','lbDoneRej')">Done</button>           
                </td>
            </tr>

            <!-- Retrive -->
            <tr>
                <td>
                    <label>เบิก</label>
                </td>
                <td>
                    <label id="lbRetrive"></label>
                </td>                
                <td>
                    <label for="" id="lbRetriveRej" style="display: none;"></label>
                </td>
                <td>
                    <input type="number" id="nbRetrive" style="width: 60px" onchange="updateQty('nbRetrive','lbRetrive','lbRetriveRej')">
                </td>
                <td>                    
                    <button id="cbRetrive" onclick="updateProcess('cbRetrive','lbRetrive','lbRetriveRej')">Done</button>           
                </td>
            </tr>

            <!-- Reject -->
            <tr>
                <td>
                    <label>Reject</label>
                </td>
                <td>
                    <label id="lbReject"></label>
                </td>
                <td>
                    <label for="" id="lbRejectRej" style="display: none;"></label>
                </td>
                <td>
                    <input type="number" id="nbReject" style="width: 60px" onchange="updateQty('nbReject','lbReject','lbRejectRej')">
                </td>
                <td>
                    <button id="cbReject" onclick="updateProcess('cbReject','lbReject','lbRejectRej')">Done</button>
                </td>
            </tr>

            <!-- Grinding -->
            <tr>
                <td>
                    <label>เจีย</label>
                </td>
                <td>
                    <label id="lbGrinding"></label>
                </td>
                <td>
                    <label id="lbGrindingRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbGrinding" style="width: 60px" onchange="updateQty('nbGrinding','lbGrinding','lbGrindingRej')">
                </td>
                <td>
                    <button id="cbGrinding" onclick="updateProcess('cbGrinding','lbGrinding','lbGrindingRej')">Done</button>
                </td>
                <td>
                    <button id="btGrinding_reject" class="w3-red" onclick="reject('cbGrinding','lbGrinding')">x</button>
                </td>
            </tr>

            <!-- Laser -->
            <tr>
                <td>
                    <label>Laser</label>
                </td>
                <td>
                    <label id="lbLaser"></label>
                </td>
                
                <td>
                    <label id="lbLaserRej" style="color: red;"></label>
                </td>
                <td>
                    <input type="number" id="nbLaser" style="width: 60px" onchange="updateQty('nbLaser','lbLaser','lbLaserRej')">
                </td>
                <td>
                    <button id="cbLaser" onclick="updateProcess('cbLaser','lbLaser','lbLaserRej')">Done</button>
                </td>
                <td>
                    <button id="btLaser_reject" class="w3-red" onclick="reject('cbLaser','lbLaser')">x</button>
                </td>
            </tr>
    
        </table>   
    
        <p>
            <div class="w3-container">
                <!--<button class="w3-btn w3-teal w3-round-large w3-block">Submit</button>-->
                <button class="w3-btn w3-teal w3-round-large w3-block" onclick="retry()">เริ่มใหม่</button>
            </div>
        </p>
    </div>


    <div class="w3-container" id="Panel" style="padding-bottom: 50px">
        <div class="w3-padding w3-card w3-round-large">  


            <p>   
                
            <table class="w3-table">
                <tr>
                    <th>Process</th>
                    <th>Done</th>
                    <th>Done Q'ty</th>
                    <th>Q'ty</th>
                </tr>
                <tr>
                    <td>
                        <label>Subcon</label>
                    </td>
                    <td>                    
                        <input type="checkbox" class="w3-check" id="cbSubcon" onclick="updateProcess('cbSubcon')">
                        
                    </td>
                    <td>
                        <label id="lbSubcon">12</label>
                    </td>
                    <td>
                        <input type="number" id="nbSubcon" style="width: 15%">
                    </td>
                </tr>
                </table>                                                              
            </p>            
            <p>            
                <input type="checkbox" class="w3-check" id="cbOrderMatt" onclick="updateProcess('cbOrderMatt')">
                <label>สั่งแมท</label>
                <label id="lbOrderMatt">12</label>
            </p>
            <p>
                <input type="checkbox" class="w3-check" id="cbCutMatt" onclick="updateProcess('cbCutMatt')">
                <label>ตัดแมท</label></p>
            <p>
                <input type="checkbox" class="w3-check" id="cbBank" onclick="updateProcess('cbBank')">
                <label>แบงค์งาน</label></p>
            <p>
                <input type="checkbox" class="w3-check" id="cbMilling" onclick="updateProcess('cbMilling')">
                <label>มิลลิ่ง</label>
            </p>
            <p>
                <input type="checkbox" class="w3-check" id="cbLathe" onclick="updateProcess('cbLathe')">
                <label>กลึง</label>
            </p>
            <p>
                <input type="checkbox" class="w3-check" id="cbCncMilling" onclick="updateProcess('cbCncMilling')">
                <label>CNC Milling</label>
            </p> 
            <p>
                <input type="checkbox" class="w3-check" id="cbCncLathe" onclick="updateProcess('cbCncLathe')">
                <label>CNC Lathe</label>
            </p>
            <p>
                <input type="checkbox" class="w3-check" id="cbTaps" onclick="updateProcess('cbTaps')">
                <label>ต๊าบเกลียว</label>
            </p>
            <p>
                <input type="checkbox" class="w3-check" id="cbQc" onclick="updateProcess('cbQc')">
                <label>QC</label>
            </p>
            <p>
                <input type="checkbox" class="w3-check" id="cbPlating" onclick="updateProcess('cbPlating')">
                <label>ชุบผิว</label>
            </p> 
            <p>
                <input type="checkbox" class="w3-check" id="cbDone" onclick="updateProcess('cbDone')">
                <label>ผลิตเสร็จ</label>
            </p>          
        </div>

        <p>
            <!--<button class="w3-btn w3-teal w3-round-large w3-block">Submit</button>-->
            <button class="w3-btn w3-teal w3-round-large w3-block" onclick="retry()">เริ่มใหม่</button>
        </p>

    </div>

    <div class="w3-container" id="JobPanel" style="padding-bottom: 50px">
        <div class="w3-padding w3-card w3-round-large" id="JobSelect">
            
        </div>
    </div>


    <!--Bottom bar-->
    <nav class="nav">
        <a href="./index.html" class="nav-link">
            <i class="material-icons" style="font-size: 22px">home</i>
            <span class="nav-text">Home</span>
        </a>
        <a href="./update.html" class="nav-link link-active">
            <i class="material-icons" style="font-size: 22px">task_alt</i>
            <span class="nav-text">Check</span>
        </a>
        <a href="./camera.html" class="nav-link">
            <i class="material-icons" style="font-size: 22px">verified_user</i>
            <span class="nav-text">List</span>
        </a>
    </nav>

    
    <script src="./js/mvar.js"></script>
    <script src="./update.js"></script>
</body>
</html>